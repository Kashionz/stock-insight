# ğŸ“ˆ Stock Insight - AI è‚¡ç¥¨é æ¸¬å¹³å°

[![Python](https://img.shields.io/badge/Python-3.11-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.109-green.svg)](https://fastapi.tiangolo.com/)
[![React](https://img.shields.io/badge/React-18.2-blue.svg)](https://reactjs.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

ä¸€å€‹ä½¿ç”¨ AI æŠ€è¡“é æ¸¬è‚¡ç¥¨åƒ¹æ ¼çš„å®Œæ•´ Web æ‡‰ç”¨ï¼Œçµåˆ FastAPI å¾Œç«¯èˆ‡ React å‰ç«¯ï¼Œé©åˆä½œç‚ºæŠ€è¡“é¢è©¦çš„ Side Project å±•ç¤ºã€‚

## ğŸ¯ å°ˆæ¡ˆç‰¹è‰²

- ğŸ¤– **AI é©…å‹•é æ¸¬**ï¼šä½¿ç”¨ Prophet æ™‚é–“åºåˆ—æ¨¡å‹é€²è¡Œè‚¡åƒ¹é æ¸¬
- ï¿½ **ä½¿ç”¨è€…é©—è­‰**ï¼šæ•´åˆ Supabase Auth å®Œæ•´çš„è¨»å†Š/ç™»å…¥ç³»çµ±
- ï¿½ğŸ“Š **è¦–è¦ºåŒ–åœ–è¡¨**ï¼šä½¿ç”¨ Chart.js å‘ˆç¾æ­·å²è‚¡åƒ¹èˆ‡é æ¸¬çµæœ
- âš¡ **å¿«å–æ©Ÿåˆ¶**ï¼šSQLite è³‡æ–™åº«å¿«å–é æ¸¬çµæœï¼Œæå‡éŸ¿æ‡‰é€Ÿåº¦
- ğŸ³ **Docker éƒ¨ç½²**ï¼šå®Œæ•´çš„ Docker Compose é…ç½®ï¼Œä¸€éµå•Ÿå‹•
- ğŸ¨ **ç¾ä»£åŒ– UI**ï¼šä½¿ç”¨ TailwindCSS æ‰“é€ ç¾è§€ä»‹é¢
- ğŸ”Œ **RESTful API**ï¼šæ¸…æ™°çš„ API è¨­è¨ˆï¼ŒJWT token é©—è­‰

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Browser                           â”‚
â”‚                   (localhost:5173)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP Request
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  React Frontend                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â€¢ Stock Input Box                               â”‚   â”‚
â”‚  â”‚  â€¢ Chart.js Visualization                        â”‚   â”‚
â”‚  â”‚  â€¢ TailwindCSS Styling                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ API Call
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  FastAPI Backend                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  API Endpoints:                                  â”‚   â”‚
â”‚  â”‚  â€¢ GET /predict?symbol=2330.TW&days=7            â”‚   â”‚
â”‚  â”‚  â€¢ GET /history?symbol=2330.TW&range=3mo         â”‚   â”‚
â”‚  â”‚  â€¢ GET /health                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   yfinance   â”‚  â”‚   Prophet    â”‚  â”‚    SQLite    â”‚   â”‚
â”‚  â”‚  Stock Data  â”‚  â”‚ AI Predictionâ”‚  â”‚Cache Databaseâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€è¡“æ£§

### å¾Œç«¯
- **FastAPI** - é«˜æ•ˆèƒ½çš„ Python Web æ¡†æ¶
- **yfinance** - å–å¾—è‚¡ç¥¨æ­·å²è³‡æ–™
- **Prophet** - Facebook é–‹ç™¼çš„æ™‚é–“åºåˆ—é æ¸¬æ¨¡å‹
- **SQLite** - è¼•é‡ç´šè³‡æ–™åº«ç”¨æ–¼å¿«å–
- **Pandas** - è³‡æ–™è™•ç†èˆ‡åˆ†æ

### å‰ç«¯
- **React 19** - ä½¿ç”¨ Vite æ§‹å»ºå·¥å…·
- **Supabase Auth** - ä½¿ç”¨è€…èªè­‰èˆ‡æˆæ¬Š
- **TailwindCSS** - å¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶
- **Chart.js** - äº’å‹•å¼åœ–è¡¨åº«
- **react-chartjs-2** - Chart.js çš„ React å°è£

### éƒ¨ç½²
- **Docker** - å®¹å™¨åŒ–æ‡‰ç”¨
- **Docker Compose** - å¤šå®¹å™¨ç·¨æ’

## ğŸ“¦ å°ˆæ¡ˆçµæ§‹

```
stock-insight/
â”œâ”€â”€ backend/                   # å¾Œç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ main.py                # FastAPI ä¸»ç¨‹å¼
â”‚   â”œâ”€â”€ requirements.txt       # Python ä¾è³´
â”‚   â”œâ”€â”€ Dockerfile             # å¾Œç«¯å®¹å™¨é…ç½®
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ cache.py           # SQLite å¿«å–ç®¡ç†
â”œâ”€â”€ frontend/                  # å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx            # ä¸»æ‡‰ç”¨å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ App.css            # æ¨£å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ main.jsx           # æ‡‰ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â””â”€â”€ StockChart.jsx # åœ–è¡¨å…ƒä»¶
â”‚   â”œâ”€â”€ index.html             # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ package.json           # Node.js ä¾è³´
â”‚   â”œâ”€â”€ vite.config.js         # Vite é…ç½®
â”‚   â”œâ”€â”€ tailwind.config.js     # Tailwind é…ç½®
â”‚   â”œâ”€â”€ postcss.config.js      # PostCSS é…ç½®
â”‚   â””â”€â”€ Dockerfile             # å‰ç«¯å®¹å™¨é…ç½®
â”œâ”€â”€ docker-compose.yml         # Docker Compose é…ç½®
â”œâ”€â”€ .gitignore                 # Git å¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md                  # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### âš™ï¸ å‰ç½®è¨­å®šï¼šSupabase é…ç½®

1. **å»ºç«‹ Supabase å°ˆæ¡ˆ**
   - å‰å¾€ [Supabase Dashboard](https://app.supabase.com/)
   - å»ºç«‹æ–°å°ˆæ¡ˆä¸¦å•Ÿç”¨ Email Authentication

2. **è¨­å®šç’°å¢ƒè®Šæ•¸**
   ```bash
   # Frontend
   cd frontend
   cp .env.example .env
   # ç·¨è¼¯ .env å¡«å…¥ SUPABASE_URL å’Œ SUPABASE_ANON_KEY
   
   # Backend
   cd ../backend
   cp .env.example .env
   # ç·¨è¼¯ .env å¡«å…¥ SUPABASE_URL å’Œ SUPABASE_JWT_SECRET
   ```

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Dockerï¼ˆæ¨è–¦ï¼‰

1. **ç¢ºä¿å·²å®‰è£ Docker å’Œ Docker Compose**
   ```bash
   docker --version
   docker-compose --version
   ```

2. **å…‹éš†å°ˆæ¡ˆä¸¦å•Ÿå‹•**
   ```bash
   cd stock-insight
   docker-compose up --build
   ```

3. **è¨ªå•æ‡‰ç”¨**
   - å‰ç«¯ï¼šhttp://localhost:5173
   - å¾Œç«¯ APIï¼šhttp://localhost:8000
   - API æ–‡æª”ï¼šhttp://localhost:8000/docs

### æ–¹æ³•äºŒï¼šæœ¬æ©Ÿé–‹ç™¼

#### å¾Œç«¯è¨­ç½®

1. **å»ºç«‹è™›æ“¬ç’°å¢ƒ**
   ```bash
   cd backend
   python -m venv venv
   
   # Windows
   .\venv\Scripts\activate
   
   # Linux/Mac
   source venv/bin/activate
   ```

2. **å®‰è£ä¾è³´**
   ```bash
   pip install -r requirements.txt
   ```

3. **å•Ÿå‹•å¾Œç«¯**
   ```bash
   uvicorn main:app --reload --host 0.0.0.0 --port 8000
   ```

#### å‰ç«¯è¨­ç½®

1. **å®‰è£ä¾è³´**
   ```bash
   cd frontend
   npm install
   ```

2. **å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**
   ```bash
   npm run dev
   ```

## ğŸ“¡ API æ–‡æª”

### ğŸ” èªè­‰

å¤§éƒ¨åˆ† API endpoints éœ€è¦ JWT token é©—è­‰ã€‚åœ¨è«‹æ±‚ header ä¸­åŠ å…¥ï¼š
```
Authorization: Bearer <your_jwt_token>
```

### 1. é æ¸¬è‚¡åƒ¹ ğŸ”’

**Endpoint:** `GET /predict`

**éœ€è¦èªè­‰ï¼š** âœ… æ˜¯

**åƒæ•¸ï¼š**
- `symbol` (required): è‚¡ç¥¨ä»£è™Ÿï¼ˆä¾‹å¦‚ï¼š2330.TWï¼‰
- `days` (optional): é æ¸¬å¤©æ•¸ï¼Œé è¨­ç‚º 7

**ç¯„ä¾‹è«‹æ±‚ï¼š**
```bash
curl "http://localhost:8000/predict?symbol=2330.TW&days=7"
```

**ç¯„ä¾‹å›æ‡‰ï¼š**
```json
{
  "symbol": "2330.TW",
  "days": 7,
  "current_price": 585.0,
  "last_update": "2025-11-01",
  "historical": [
    {
      "date": "2025-10-28",
      "actual": 580.0,
      "type": "historical"
    }
  ],
  "predictions": [
    {
      "date": "2025-11-04",
      "predicted": 590.5,
      "lower": 575.2,
      "upper": 605.8,
      "type": "prediction"
    }
  ],
  "timestamp": "2025-11-02T10:30:00"
}
```

### 2. å–å¾—æ­·å²è‚¡åƒ¹

**Endpoint:** `GET /history`

**åƒæ•¸ï¼š**
- `symbol` (required): è‚¡ç¥¨ä»£è™Ÿ
- `range` (optional): æ™‚é–“ç¯„åœï¼ˆ1mo, 3mo, 6mo, 1yï¼‰ï¼Œé è¨­ç‚º 3mo

**ç¯„ä¾‹è«‹æ±‚ï¼š**
```bash
curl "http://localhost:8000/history?symbol=2330.TW&range=3mo"
```

**ç¯„ä¾‹å›æ‡‰ï¼š**
```json
{
  "symbol": "2330.TW",
  "range": "3mo",
  "data": [
    {
      "date": "2025-08-01",
      "open": 570.0,
      "high": 575.0,
      "low": 568.0,
      "close": 572.0,
      "volume": 25000000
    }
  ]
}
```

### 3. å¥åº·æª¢æŸ¥

**Endpoint:** `GET /health`

**ç¯„ä¾‹å›æ‡‰ï¼š**
```json
{
  "status": "healthy",
  "timestamp": "2025-11-02T10:30:00"
}
```

## ğŸ–¼ï¸ ä½¿ç”¨ä»‹é¢

### ä¸»ç•«é¢
![ä¸»ç•«é¢](https://via.placeholder.com/800x450?text=Stock+Insight+Main+Screen)

- è¼¸å…¥è‚¡ç¥¨ä»£è™Ÿï¼ˆæ”¯æ´å°è‚¡ã€ç¾è‚¡ç­‰ï¼‰
- é»æ“Šã€Œé–‹å§‹é æ¸¬ã€æŒ‰éˆ•
- æŸ¥çœ‹é æ¸¬çµæœèˆ‡åœ–è¡¨

### é æ¸¬çµæœ
![é æ¸¬çµæœ](https://via.placeholder.com/800x450?text=Prediction+Chart)

- è—è‰²ç·šï¼šæ­·å²è‚¡åƒ¹
- ç¶ è‰²è™›ç·šï¼šé æ¸¬è‚¡åƒ¹
- ç´…è‰²å€åŸŸï¼šé æ¸¬ä¿¡è³´å€é–“

## ğŸ’¡ ä½¿ç”¨ç¯„ä¾‹

### å°ç£è‚¡ç¥¨ï¼ˆå°ç©é›»ï¼‰
```
è¼¸å…¥ï¼š2330.TW
```

### ç¾åœ‹è‚¡ç¥¨ï¼ˆè˜‹æœï¼‰
```
è¼¸å…¥ï¼šAAPL
```

### é¦™æ¸¯è‚¡ç¥¨ï¼ˆé¨°è¨Šï¼‰
```
è¼¸å…¥ï¼š0700.HK
```

## ğŸ§ª æ¸¬è©¦

### æ¸¬è©¦ API
```bash
# å¥åº·æª¢æŸ¥
curl http://localhost:8000/health

# é æ¸¬å°ç©é›»è‚¡åƒ¹
curl "http://localhost:8000/predict?symbol=2330.TW&days=7"

# å–å¾—æ­·å²è³‡æ–™
curl "http://localhost:8000/history?symbol=2330.TW&range=3mo"
```

## ğŸ“ é¢è©¦å±•ç¤ºé‡é»

1. **æŠ€è¡“å»£åº¦**
   - å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹
   - RESTful API è¨­è¨ˆ
   - Docker å®¹å™¨åŒ–éƒ¨ç½²

2. **AI/ML æ‡‰ç”¨**
   - Prophet æ™‚é–“åºåˆ—é æ¸¬
   - è³‡æ–™å‰è™•ç†èˆ‡ç‰¹å¾µå·¥ç¨‹
   - æ¨¡å‹è©•ä¼°èˆ‡å„ªåŒ–

3. **å·¥ç¨‹å¯¦è¸**
   - å¿«å–æ©Ÿåˆ¶æå‡æ•ˆèƒ½
   - éŒ¯èª¤è™•ç†èˆ‡æ—¥èªŒè¨˜éŒ„
   - CORS è·¨åŸŸè™•ç†
   - ç¨‹å¼ç¢¼çµæ§‹åŒ–èˆ‡æ¨¡çµ„åŒ–

4. **å‰ç«¯æŠ€èƒ½**
   - React Hooks ä½¿ç”¨
   - ç‹€æ…‹ç®¡ç†
   - åœ–è¡¨è¦–è¦ºåŒ–
   - éŸ¿æ‡‰å¼è¨­è¨ˆ

## ğŸ”§ å¸¸è¦‹å•é¡Œ

### Q1: ç‚ºä»€éº¼é æ¸¬çµæœèˆ‡å¯¦éš›æœ‰å·®ç•°ï¼Ÿ
A: Prophet æ˜¯åŸºæ–¼æ­·å²è³‡æ–™çš„çµ±è¨ˆæ¨¡å‹ï¼Œåƒ…ä¾›åƒè€ƒï¼Œä¸æ§‹æˆæŠ•è³‡å»ºè­°ã€‚è‚¡å¸‚å—å¤šç¨®å› ç´ å½±éŸ¿ï¼ŒåŒ…æ‹¬æ–°èã€æ”¿ç­–ã€å¸‚å ´æƒ…ç·’ç­‰ã€‚

### Q2: æ”¯æ´å“ªäº›è‚¡ç¥¨å¸‚å ´ï¼Ÿ
A: æ”¯æ´ yfinance å¯å­˜å–çš„æ‰€æœ‰å¸‚å ´ï¼ŒåŒ…æ‹¬å°ç£ï¼ˆ.TWï¼‰ã€ç¾åœ‹ã€é¦™æ¸¯ï¼ˆ.HKï¼‰ã€æ—¥æœ¬ï¼ˆ.Tï¼‰ç­‰ã€‚

### Q3: å¿«å–å¤šä¹…æœƒéæœŸï¼Ÿ
A: é æ¸¬çµæœå¿«å– 24 å°æ™‚ï¼ŒéæœŸå¾Œæœƒè‡ªå‹•é‡æ–°é æ¸¬ã€‚

### Q4: å¦‚ä½•ä¿®æ”¹é æ¸¬å¤©æ•¸ï¼Ÿ
A: åœ¨å‰ç«¯ç¨‹å¼ç¢¼ä¸­ä¿®æ”¹ API å‘¼å«åƒæ•¸ï¼Œæˆ–ç›´æ¥é€é API å‚³å…¥ `days` åƒæ•¸ã€‚

## ğŸš§ æœªä¾†æ”¹é€²æ–¹å‘

- [x] åŠ å…¥ä½¿ç”¨è€…èªè­‰ç³»çµ±ï¼ˆå·²å®Œæˆ - Supabase Authï¼‰
- [ ] åŠ å…¥æ›´å¤šæŠ€è¡“æŒ‡æ¨™ï¼ˆRSIã€MACD ç­‰ï¼‰
- [ ] æ”¯æ´å¤šå€‹è‚¡ç¥¨æ¯”è¼ƒ
- [ ] ä½¿ç”¨è€…æŠ•è³‡çµ„åˆç®¡ç†
- [ ] æ•´åˆå³æ™‚è‚¡åƒ¹ WebSocket
- [ ] åŠ å…¥æ¨¡å‹æº–ç¢ºåº¦è©•ä¼°
- [ ] æ”¯æ´æ›´å¤šé æ¸¬æ¨¡å‹ï¼ˆLSTMã€ARIMA ç­‰ï¼‰
- [ ] åŠ å…¥è‚¡ç¥¨æ–°èçˆ¬èŸ²èˆ‡æƒ…ç·’åˆ†æ
- [ ] å»ºç«‹è‡ªå‹•åŒ–æ¸¬è©¦
